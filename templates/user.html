{% extends 'base.html' %}
{% load static %}
{% block title %}
    {% if user.user_nickname %}
        {{ user.user_nickname }}
    {% elif user.user_name %}
        {{ user.user_name }}
    {% else %}
        Undefined User In
    {% endif %}
    用户详情
{% endblock %}
{% block custom_style %}
    .team-thumb-overlay a {
    border: none;
    }
{% endblock %}
{% block content %}
    <!-- inner-banner-section start -->
    <section class="inner-banner-section bg-overlay-primary bg_img"
             data-background={% static "assets/images/header/inner-5.png" %}>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-12 text-center">
                    <div class="inner-content">
                        <h2 class="title wow fade-in-up" data-wow-duration="1s" data-wow-delay="0.5s">
                            用户详情
                        </h2>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- inner-banner-section end -->
    <a href="#" class="scrollToTop"><i class="fas fa-heart"></i></a>

    <!-- breadcrumb-section start -->
    <div class="breadcrumb-area">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/index"><i class="flaticon-house"></i>首页</a></li>
                    <li class="breadcrumb-item" aria-current="page"><a href="#personal-collection"><i
                            class="bi bi-bookmark"></i>个人收藏</a></li>
                    <li class="breadcrumb-item" aria-current="page"><a href="#recent-browsing"><i
                            class="bi bi-card-list"></i>最近浏览</a></li>
                    <li class="breadcrumb-item" aria-current="page"><a href="#personal-post"><i
                            class="bi bi-card-list"></i>个人发布</a></li>
                </ol>
            </nav>
        </div>
    </div>
    <!-- breadcrumb-section end -->


    <!-- about-story-section start -->
    <section class="about-story-section pd-t-120">
        <div class="container">
            <div class="row justify-content-center ml-b-30">
                <div class="col-lg-12 mrb-30">
                    <div class="about-story-area about-story-area-two d-flex flex-wrap align-items-center">
                        <div class="about-story-thumb">
                            {% if user.user_headicon %}
                                <img src="/media/{{ user.user_headicon }}" alt="headicon">
                            {% else %}
                                <img src="/media/user_headicon/default.png" alt="headicon">
                            {% endif %}
                        </div>
                        <div class="about-story-content-two">
                            <div class="about-story-content-body-two">
                                <h3 class="title">
                                    {% if user.user_nickname %}
                                        {{ user.user_nickname }}
                                    {% elif user.user_name %}
                                        {{ user.user_name }}
                                    {% else %}
                                        Undefined User In
                                    {% endif %}
                                </h3>
                                <p>
                                    {% if user.user_description %}
                                        {{ user.user_description }}
                                    {% else %}
                                        这个人很懒，什么都没写！
                                    {% endif %}
                                </p>
                                <div class="about-story-content-footer d-flex flex-wrap justify-content-between">
                                    <ul class="footer-social-two">
                                        <li><a href=""><i class="bi bi-tencent-qq"></i></a></li>
                                        <li><a href="" class="active"><i class="bi bi-wechat"></i></a></li>
                                        <li><a href=""><i class="fa fa-envelope"></i></a></li>
                                    </ul>
                                    <ul class="team-wish-list">
                                        <li><i class="fas fa-eye color-red"></i>
                                            <span>
                                                {{ user.user_view }}
                                            </span>
                                        </li>
                                        <li><i class="fas fa-thumbs-up color-curious-blue"></i>
                                            <span>
                                                {{ user.user_like }}
                                            </span>
                                        </li>
                                        <li><i class="fas fa-star color-yellow"></i>
                                            <span>
                                                {{ user.user_favorite }}
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- about-story-section end -->

    <!-- user-details-section start -->
    <section class="member-details-section ptb-120">
        <div class="container">
            <div class="member-details-area ml-b-10">
                <div class="member-details-item-area d-flex flex-wrap mrb-10">
                    <div class="member-details-single-item sec-bg d-flex flex-wrap">
                        <div class="member-facilities">
                            <i class="fas fa-user"></i>
                            <span class="first">性别</span>
                        </div>
                        <div class="member-facilities">
                            <span class="second">
                                {% if user.user_sex %}
                                    {% if user.user_sex == 1 %}
                                        男生
                                    {% elif user.user_sex == 2 %}
                                        女生
                                    {% else %}
                                        保密
                                    {% endif %}
                                {% else %}
                                    Undefined User In
                                {% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="member-details-single-item sec-bg d-flex flex-wrap">
                        <div class="member-facilities">
                            <i class="fas fa-book"></i>
                            <span class="first">加入时间</span>
                        </div>
                        <div class="member-facilities">
                            <span class="second">
                                {% if user.user_create_time %}
                                    {{ user.user_create_time }}
                                {% else %}
                                    Undefined User In
                                {% endif %}
                            </span>
                        </div>
                    </div>
                    <div class="member-details-single-item sec-bg d-flex flex-wrap">
                        <div class="member-facilities">
                            <i class="fas fa-book"></i>
                            <span class="first">上次活跃时间</span>
                        </div>
                        <div class="member-facilities">
                            <span class="second">
                                {% if user.user_last_active_time %}
                                    {{ user.user_last_active_time }}
                                {% else %}
                                    Undefined User In
                                {% endif %}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- member-details-section end -->


    <!-- personal-collection-section start -->
    <section class="process-section ptb-120" id="personal-collection">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-7 text-center">
                    <div class="section-header wow fade-in-up" data-wow-duration="1s" data-wow-delay="0.5s">
                        <h2 class="section-title">个人收藏</h2>
                        <p>收藏是心灵的一扇窗，透过它我们看到自己曾经热爱、留恋的瞬间。</p>
                    </div>
                </div>
            </div>
            <div class="process-item-area">
                {% if user.collection_count <= 0 %}
                    <h2 style="text-align: center">你的收藏夹空空如也！</h2>
                {% elif user.collection_count <= 3 %}
                    <div class="row justify-content-center">
                        {% for col in user.collection %}
                            <div class="col-lg-4 col-md-6 col-sm-8 mrb-30 wow fade-in-bottom" data-wow-duration="1s"
                                 data-wow-delay="0.3s">
                                <div class="process-item text-center">
                                    <div class="icon-gradient">
                                        <i class="flaticon-video"></i>
                                    </div>
                                    <h3 class="title">{{ col.post_id.post_title }}</h3>
                                    <p>{{ col.post_id.post_content }}</p>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <div class="row justify-content-center" id="collectionContainer">
                        {% for col in user.collection %}
                            <div class="col-lg-4 col-md-6 col-sm-8 mrb-30 wow fade-in-bottom" data-wow-duration="1s"
                                 data-wow-delay="0.3s">
                                <div class="process-item text-center">
                                    <div class="icon-gradient">
                                        <i class="flaticon-video"></i>
                                    </div>
                                    <h3 class="title">{{ col.post_id.post_title }}</h3>
                                    <p>{{ col.post_id.post_content }}</p>
                                </div>
                            </div>
                            {% if forloop.counter == 3 %}
                                </div>
                                <div class="row justify-content-center" id="collectionContainer">
                            {% endif %}
                        {% if forloop.counter == 6 and user.collection_count > 6 %}
                            </div>
                            <div class="text-center">
                                <button class="btn btn-primary" id="collectionViewMoreBtn">查看更多</button>
                            </div>
                            <script>
								document.getElementById('collectionViewMoreBtn').addEventListener('click', function () {
									var collectionContainer = document.getElementById('collectionContainer');
									// Use AJAX or other methods to load more collection items and append to collectionContainer
									$.ajax({
										url: '/user/collection/more/',
										type: 'POST',
										data: {
											user_id: {{ user.user_id }},
											csrfmiddlewaretoken: '{{ csrf_token }}'
										},
										dataType: 'json',
										success: function (data) {
											console.log(data);
											for (var i = 0; i < data.length; i++) {
												// 动态添加元素
											}
										}
									});
								})
                            </script>
                        {% endif %}
                        {% endfor %}
                {% endif %}
            </div>
        </div>
        </div>
    </section>
    <!-- personal-collection-section end -->

    <!-- recent-browsing-section start -->
    <section class="gallery-section pd-t-120 bg-overlay-white-two bg_img"
             data-background={% static "assets/images/gallery/portfolio-bg.png" %}>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-7 text-center">
                    <div class="section-header wow fade-in-up" data-wow-duration="1s" data-wow-delay="0.5s">
                        <h2 class="section-title" id="recent-browsing">最近浏览</h2>
                        <p>浏览的轨迹如同星空中的流星，短暂而璀璨。 </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 pl-0 pr-0">
                    <div class="gallery-slider">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <div class="gallery-item">
                                    <div class="gallery-thumb">
                                        <img src="../static/assets/images/gallery/portfolio-14.png" alt="gallery">
                                        <div class="gallery-thumb-overlay">
                                            <a href="#0"><i class="fas fa-search"></i></a>
                                            <div class="gallery-overlay-content text-center">
                                                <h3 class="title">jons & luchia`s sweet love</h3>
                                                <ul class="overlay-list">
                                                    <li><i class="far fa-heart"></i><span>03</span></li>
                                                    <li><i class="far fa-comment-alt"></i><span>00</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-slide">
                                <div class="gallery-item">
                                    <div class="gallery-thumb">
                                        <img src="../static/assets/images/gallery/portfolio-15.png" alt="gallery">
                                        <div class="gallery-thumb-overlay">
                                            <a href="#0"><i class="fas fa-search"></i></a>
                                            <div class="gallery-overlay-content text-center">
                                                <h3 class="title">jons & luchia`s sweet love</h3>
                                                <ul class="overlay-list">
                                                    <li><i class="far fa-heart"></i><span>03</span></li>
                                                    <li><i class="far fa-comment-alt"></i><span>00</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-slide">
                                <div class="gallery-item">
                                    <div class="gallery-thumb">
                                        <img src="../static/assets/images/gallery/portfolio-16.png" alt="gallery">
                                        <div class="gallery-thumb-overlay">
                                            <a href="#0"><i class="fas fa-search"></i></a>
                                            <div class="gallery-overlay-content text-center">
                                                <h3 class="title">jons & luchia`s sweet love</h3>
                                                <ul class="overlay-list">
                                                    <li><i class="far fa-heart"></i><span>03</span></li>
                                                    <li><i class="far fa-comment-alt"></i><span>00</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-slide">
                                <div class="gallery-item">
                                    <div class="gallery-thumb">
                                        <img src="../static/assets/images/gallery/portfolio-17.png" alt="gallery">
                                        <div class="gallery-thumb-overlay">
                                            <a href="#0"><i class="fas fa-search"></i></a>
                                            <div class="gallery-overlay-content text-center">
                                                <h3 class="title">jons & luchia`s sweet love</h3>
                                                <ul class="overlay-list">
                                                    <li><i class="far fa-heart"></i><span>03</span></li>
                                                    <li><i class="far fa-comment-alt"></i><span>00</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- recent-browsing-section end -->
    <!-- personal-post-section start -->
    <section class="team-section pd-t-120 bg-overlay-white-two bg_img" id="personal-post"
             data-background={% static "assets/images/gallery/portfolio-bg.png" %}>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-7 text-center">
                    <div class="section-header wow fade-in-up" data-wow-duration="1s" data-wow-delay="0.5s">
                        <h2 class="section-title">个人发布</h2>
                        <p>每一个发布都是一颗思想的种子，播撒在社交的土壤中，终将开出精彩的花朵。</p>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-4 col-md-6 col-sm-8 mrb-30 wow fade-in-bottom" data-wow-duration="1s"
                     data-wow-delay="0.5s">
                    <div class="team-thumb">
                        <img src="../static/assets/images/team/team-1.png" alt="team">
                        <div class="team-thumb-overlay">
                            <a class="image-popup" title="team image" href="../static/assets/images/team/team-1.png"><i
                                    class="fas fa-search"></i></a>
                        </div>
                    </div>
                    <div class="team-details text-center">
                        <h3 class="title">Marina Kubora</h3>
                        <ul class="team-content">
                            <li>Mellbourne , Australia</li>
                            <li>25 years Old</li>
                        </ul>
                        <ul class="team-wish-list">
                            <li><i class="fas fa-heart color-red"></i><span>25</span></li>
                            <li><i class="fas fa-star color-yellow"></i><span>48</span></li>
                            <li><i class="fas fa-thumbs-up color-curious-blue"></i><span>56</span></li>
                            <li><i class="fas fa-thumbs-down color-curious-blue"></i><span>21</span></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-8 mrb-30 wow fade-in-bottom" data-wow-duration="1s"
                     data-wow-delay="0.9s">
                    <div class="team-thumb">
                        <img src="../static/assets/images/team/team-2.png" alt="team">
                        <div class="team-thumb-overlay">
                            <a class="image-popup" title="team image" href="../static/assets/images/team/team-2.png"><i
                                    class="flaticon-add-1"></i></a>
                        </div>
                    </div>
                    <div class="team-details text-center">
                        <h3 class="title">Bartin Nikoriyas</h3>
                        <ul class="team-content">
                            <li>Mellbourne , Australia</li>
                            <li>30 years Old</li>
                        </ul>
                        <ul class="team-wish-list">
                            <li><i class="fas fa-heart color-red"></i><span>25</span></li>
                            <li><i class="fas fa-star color-yellow"></i><span>48</span></li>
                            <li><i class="fas fa-thumbs-up color-curious-blue"></i><span>56</span></li>
                            <li><i class="fas fa-thumbs-down color-curious-blue"></i><span>21</span></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-8 mrb-30 wow fade-in-bottom" data-wow-duration="1s"
                     data-wow-delay="1.2s">
                    <div class="team-thumb">
                        <img src="../static/assets/images/team/team-3.png" alt="team">
                        <div class="team-thumb-overlay">
                            <a class="image-popup" title="team image" href="../static/assets/images/team/team-3.png"><i
                                    class="flaticon-add-1"></i></a>
                        </div>
                    </div>
                    <div class="team-details text-center">
                        <h3 class="title">monika chunityra</h3>
                        <ul class="team-content">
                            <li>Mellbourne , Australia</li>
                            <li>32 years Old</li>
                        </ul>
                        <ul class="team-wish-list">
                            <li><i class="fas fa-heart color-red"></i><span>25</span></li>
                            <li><i class="fas fa-star color-yellow"></i><span>48</span></li>
                            <li><i class="fas fa-thumbs-up color-curious-blue"></i><span>56</span></li>
                            <li><i class="fas fa-thumbs-down color-curious-blue"></i><span>21</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- personal-post-section end -->
{% endblock %}
